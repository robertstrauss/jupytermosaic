
/** mosaic-groups are flex so all the cells are squeezed into a row or column */
.mosaic-group-inner, .jp-Notebook {
    display: flex;
    position: relative;
    flex-basis: 100%; /* keeps from crushing scrollable divs to nothing */
    overflow: auto;
    /*z-index:  -2 !important;*/
    --mosaic-group-padding: 5px;
    --mosaic-cell-min-width: 160px;
}

/* .mosaic-group-outer:has(> .jp-WindowedPanel-outer:nth-child(2):last-child > .jp-WindowedPanel-inner > .mosaic-group-inner:empty) {
  /* hide empty groups * /
  display: none;
} */
/** 
 * makes cells and mosaic groups the same size, with gaps between them, and not overflow 
 * z-index is to make them capture the mouse events so they know when something is dragging over them
 */
.jp-Cell, .mosaic-group-outer { /*, .jp-Notebook {*/
    /*min-width: 0;*/
    /* width: unset !important; */
    flex-grow: 1;
    flex-shrink: 0;
    flex-basis: 0; /* needs an absolute value, not content, to not collapse */
    /* z-index: 2; */
}
.jp-Cell {
  min-width: var(--mosaic-cell-min-width);
  box-sizing: border-box;
}
.mosaic-group-outer {
  min-width: calc(var(--mosaic-cell-min-width) + 2*var(--mosaic-group-padding));
}

/** when hovering over a mosaic-group it changed its background slightly so the execution order can be seen */
/* .mosaic-group:hover {
    background-color: rgba(0,0,0,0.2);
} */

.jp-Notebook .jp-WindowedPanel-viewport .mosaic-group-inner .mosaic-row{
    flex-direction: row;
    padding: var(--mosaic-group-padding) 0; /** padded edges to drop cells on **/
}
.jp-Notebook .jp-WindowedPanel-viewport .mosaic-group-inner .mosaic-col, .jp-Notebook{
    flex-direction: column;
    padding: 0 var(--mosaic-group-padding);
}

.mosaic-scrolling::after {
  pointer-events: none;
  z-index: 2;
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  --shadow-extent: 20px;
}
.mosaic-col .mosaic-scrolling {
  scroll-timeline: --shift-shadow-vert y;
  scroll-timeline: --shift-shadow-vert vertical;
}
/* .mosaic-scrolling:has(>.jp-WindowedPanel-outer>.jp-WindowedPanel-inner>.mosaic-col)::after { */
.mosaic-col .mosaic-scrolling::after {
  /* a shadow coming in on the top and bottom to show it extends beyond these sides */
  /* box-shadow: inset 0px 30px 10px 20px rgba(0, 0, 0, 0.5),
              inset 0px -30px 10px 20px rgba(0, 0, 0, 0.5); */
  animation: adjust-position-vert linear forwards;
  animation-timeline: --shift-shadow-vert;
}
@keyframes adjust-position-vert {
	0% {
    transform: translateX(0); /* stay fixed over the viewport */
    /* fully scrolled to the start: shadow over right only, where more cells are */
    box-shadow: inset -10px -30px 10px -10px rgba(0, 0, 0, 0.5),
                inset 10px 10px 10px -10px rgba(0, 0, 0, 0.5);
	}
  5% {
    box-shadow: inset -10px -30px 10px -10px rgba(0, 0, 0, 0.5), 
                inset 10px 30px 10px -10px rgba(0, 0, 0, 0.5);
  }
  95% {
    box-shadow: inset -10px -30px 10px -10px rgba(0, 0, 0, 0.5), 
                inset 10px 30px 10px -10px rgba(0, 0, 0, 0.5);
  }
	100% {
    transform: translateX(calc(var(--scroll-width) + -100%)); /* stay fixed over the viewport */
    /* fully scrolled to the end: shadow over left only, where more cells are */
    box-shadow: inset -10px -10px 10px -10px rgba(0, 0, 0, 0.5),
                inset 10px 30px 10px -10px rgba(0, 0, 0, 0.5);
	}
}
.mosaic-row.mosaic-scrolling {
  scroll-timeline: --shift-shadow-horiz x;
  scroll-timeline: --shift-shadow-horiz horizontal;
}
/* .mosaic-scrolling:has(>.jp-WindowedPanel-outer>.jp-WindowedPanel-inner>.mosaic-row)::after { */
.mosaic-row.mosaic-scrolling::after {
  /* a shadow coming in on the left and right to show it extends beyond these sides */
  /* left: calc(-1*var(--shadow-extent));
  right: calc(-1*var(--shadow-extent)); */
  animation: adjust-position-horiz linear forwards;
  animation-timeline: --shift-shadow-horiz;
    /* box-shadow: inset calc(-1*var(--shadow-extent)) -1px 10px -10px rgba(0, 0, 0, 0.5), 
                inset calc(var(--shadow-extent)) 1px 10px -10px rgba(0, 0, 0, 0.5); */
}
@keyframes adjust-position-horiz {
	0% {
    transform: translateX(0); /* stay fixed over the viewport */
    /* fully scrolled to the start: shadow over right only, where more cells are */
    box-shadow: inset -30px -10px 10px -10px rgba(0, 0, 0, 0.5),
                inset 10px 10px 10px -10px rgba(0, 0, 0, 0.5);
	}
  5% {
    box-shadow: inset -30px -10px 10px -10px rgba(0, 0, 0, 0.5), 
                inset 30px 10px 10px -10px rgba(0, 0, 0, 0.5);
  }
  95% {
    box-shadow: inset -30px -10px 10px -10px rgba(0, 0, 0, 0.5), 
                inset 30px 10px 10px -10px rgba(0, 0, 0, 0.5);
  }
	100% {
    transform: translateX(calc(var(--scroll-width) + -100%)); /* stay fixed over the viewport */
    /* fully scrolled to the end: shadow over left only, where more cells are */
    box-shadow: inset -10px -10px 10px -10px rgba(0, 0, 0, 0.5),
                inset 30px 10px 10px -10px rgba(0, 0, 0, 0.5);
	}
}


/** floating vs flat layout style */
/** takes away white middle column so cells are floating in the grey area */
.jp-Notebook[data-mosaicstyle=floating] {
    background: transparent;
    box-shadow: none;
}
/** makes cells floating things with round corners */
.jp-Notebook[data-mosaicstyle=floating] .jp-Cell {
    background: white;
    box-shadow: 0px 3px 10px 1px rgba(0,0,0,0.5);
    border-radius: 10px !important;
}







/** make the input prompt (In [ ]) and output prompt (Out [ ]) above the input and output rather than beside */
/* .jp-Cell > .jp-Cell-inputWrapper, .jp-OutputArea {
    flex-direction: column !important;
} */
/** 
 * make the output view full width of the cell 
 * (it usually leaves room for the output prompt, but we are putting that on top instead)
 */
/* .jp-OutputArea-child {
    max-width: 100% !important;
} */
/** makes the input prompt or blank area of markdown cells clickable with z-index, so it can be dragged there, and full size */
/* .jp-InputPrompt {
    position: absolute;
    width: 100%;
    height: 100%;
    z-index: 2;
} */
/** styles the input prompt of code cells only, making it bigger and on the top rather than side */
.prompt_container > .jp-InputPrompt {
    text-align: left;
    position: relative;
    height: 2.8rem;
    width: 100%;
}

/** puts the output prompt's overlay big and on the top rather than side just like the output prompt itself */
/* .jp-OutputArea-promptOverlay {
    width: 100%;
    height: 100%;
    max-height: 2.8rem !important;
}
/** puts Out [ ] on the left /
.jp-OutputArea-promptOverlay {
    text-align: left;
} */
/** makes sure the output is clickable */
.jp-OutputArea {
    z-index: 2 !important;
}




.jp-Notebook-cell.jp-mod-dropTarget {
  /* box-sizing: content-box;
  border-radius: 10px; */
  border: none;
}

/* .jp-Notebook-cell.jp-mod-dropTarget ::after{
  content: '';
  position:absolute;
  background-color: var(--jp-private-notebook-selected-color);
  width: inherit;
  height: inherit;
} */
/* 
.jp-Notebook-cell.jp-mod-dropTarget[data-mosaic-drop-side="top"] ::after {
  top: 0px;
  left: 0px;
  right: 0px;
  height: 2px;
}
.jp-Notebook-cell.jp-mod-dropTarget[data-mosaic-drop-side="bottom"] ::after {
  bottom: 0;
  left: 0;
  right: 0;
  height: 2px;
}
.jp-Notebook-cell.jp-mod-dropTarget[data-mosaic-drop-side="left"] ::after {
  left: 0;
  top: 0;
  bottom: 0;
  width: 2px;
}
.jp-Notebook-cell.jp-mod-dropTarget[data-mosaic-drop-side="right"] ::after {
  right: 0;
  top: 0;
  bottom: 0;
  width: 2px;
} */

.mosaic-group-outer.jp-mod-dropTarget[data-mosaic-drop-side="top"] ,
.jp-Notebook-cell.jp-mod-dropTarget[data-mosaic-drop-side="top"] ,
.jp-Notebook.jp-mod-commandMode
  .jp-Notebook-cell.jp-mod-active.jp-mod-selected.jp-mod-dropTarget[data-mosaic-drop-side="bottom"] {
  border: none;
  border-top-color: var(--jp-private-notebook-selected-color);
  border-top-style: solid;
  border-top-width: 2px;
}

.mosaic-group-outer.jp-mod-dropTarget[data-mosaic-drop-side="bottom"] ,
.jp-Notebook-cell.jp-mod-dropTarget[data-mosaic-drop-side="bottom"] ,
.jp-Notebook.jp-mod-commandMode
  .jp-Notebook-cell.jp-mod-active.jp-mod-selected.jp-mod-dropTarget[data-mosaic-drop-side="bottom"] {
  border: none;
  border-bottom-color: var(--jp-private-notebook-selected-color);
  border-bottom-style: solid;
  border-bottom-width: 2px;
}

.mosaic-group-outer.jp-mod-dropTarget[data-mosaic-drop-side="left"] ,
.jp-Notebook-cell.jp-mod-dropTarget[data-mosaic-drop-side="left"] ,
.jp-Notebook.jp-mod-commandMode
  .jp-Notebook-cell.jp-mod-active.jp-mod-selected.jp-mod-dropTarget[data-mosaic-drop-side="left"] {
  border: none;
  border-left-color: var(--jp-private-notebook-selected-color);
  border-left-style: solid;
  border-left-width: 2px;
}

.mosaic-group-outer.jp-mod-dropTarget[data-mosaic-drop-side="right"] ,
.jp-Notebook-cell.jp-mod-dropTarget[data-mosaic-drop-side="right"] ,
.jp-Notebook.jp-mod-commandMode
  .jp-Notebook-cell.jp-mod-active.jp-mod-selected.jp-mod-dropTarget[data-mosaic-drop-side="right"] {
  border: none;
  border-right-color: var(--jp-private-notebook-selected-color);
  border-right-style: solid;
  border-right-width: 2px;
} 